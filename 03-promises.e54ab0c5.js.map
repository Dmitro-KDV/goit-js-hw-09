{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SACaC,SAASC,cAAc,SAe/BC,iBAAiB,UAAU,SAACC,GAC/BA,EAAMC,iBACN,IAEuBC,EAAnBF,EAAMG,cADRC,SAAYC,EAAKH,EAALG,MAAOC,EAAIJ,EAAJI,KAAMC,EAAML,EAANK,OAGvBC,EAAU,KACVC,EAAcF,EAAOG,MACrBC,EAAY,EACZC,EAASC,OAAOR,EAAMK,OAC1BF,EAAUM,aAAY,WACpBL,GAAc,EAxBlB,SAAuBM,EAAUV,GAC/B,OAAO,IAAIW,SAAQ,SAACC,EAAKC,GACvBC,YAAW,WACaC,KAAKC,SAAW,GAEpCJ,EAAI,uBAAwCK,OAAfP,EAAS,QAAYO,OAANjB,EAAM,OAEhDa,EAAE,sBAAqCI,OAAfP,EAAS,QAAYO,OAANjB,EAAM,M,GAEjDA,E,IAgBFkB,CAAcZ,EAAWC,GACxBY,MAAK,SAACd,GACLe,EAAA9B,GAAS+B,OAAOC,QAAQjB,EAAM,CAACkB,QAAS,K,IAEzCC,OAAM,SAACnB,GACNe,EAAA9B,GAAS+B,OAAOI,QAAQpB,EAAM,CAACkB,QAAS,K,IAG1CjB,GAAY,EACZC,GAAUC,OAAOP,EAAKI,OAEjBD,GACDsB,cAAcvB,E,GAEjB,I","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nconst form = document.querySelector(\".form\");\n\nfunction createPromise(position, delay) {\n  return new Promise((res, rej) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        res(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      } else {\n        rej(`❌ Rejected promise ${position} in ${delay}ms`);\n      }\n    },delay);\n  });\n}\n\nform.addEventListener(\"submit\", (event) => {\n  event.preventDefault();\n  const {\n    elements: { delay, step, amount }\n  } = event.currentTarget;\n\n  let timerId = null;\n  let amountInter = amount.value;\n  let positionP = 1;\n  let delayP = Number(delay.value);\n  timerId = setInterval(() => {\n    amountInter -=1;\n    createPromise(positionP, delayP)\n    .then((value) => {\n      Notiflix.Notify.success(value,{timeout: 4000,},);\n    })\n    .catch((value) => {\n      Notiflix.Notify.failure(value,{timeout: 4000,},);\n    });\n\n    positionP +=1;\n    delayP += Number(step.value);\n\n    if (!amountInter) {\n        clearInterval(timerId);\n    }\n  }, 1000);\n\n});"],"names":["$6JpON","parcelRequire","document","querySelector","addEventListener","event","preventDefault","_elements","currentTarget","elements","delay","step","amount","timerId","amountInter","value","positionP","delayP","Number","setInterval","position","Promise","res","rej","setTimeout","Math","random","concat","$ce04d3a99e08e73b$var$createPromise","then","$parcel$interopDefault","Notify","success","timeout","catch","failure","clearInterval"],"version":3,"file":"03-promises.e54ab0c5.js.map"}