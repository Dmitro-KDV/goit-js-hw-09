{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SACaC,SAASC,cAAc,SAe/BC,iBAAiB,UAAWC,IAC/BA,EAAMC,iBACN,MACEC,UAAUC,MAAEA,EAAKC,KAAEA,EAAIC,OAAEA,IACvBL,EAAMM,cAEV,IAAIC,EAAU,KACVC,EAAcH,EAAOI,MACrBC,EAAY,EACZC,EAASC,OAAOT,EAAMM,OAC1BF,EAAUM,aAAY,KACpBL,GAAc,EAxBlB,SAAuBM,EAAUX,GAC/B,OAAO,IAAIY,SAAQ,CAACC,EAAKC,KACvBC,YAAW,KACaC,KAAKC,SAAW,GAEpCJ,EAAI,uBAAqBF,QAAiBX,OAExCc,EAAE,sBAAoBH,QAAeX,MAAU,GAEnDA,EAAM,G,CAgBRkB,CAAcX,EAAWC,GACxBW,MAAMb,IACLc,EAAA5B,GAAS6B,OAAOC,QAAQhB,EAAM,CAACiB,QAAS,KAAQ,IAEjDC,OAAOlB,IACNc,EAAA5B,GAAS6B,OAAOI,QAAQnB,EAAM,CAACiB,QAAS,KAAQ,IAGlDhB,GAAY,EACZC,GAAUC,OAAOR,EAAKK,OAEjBD,GACDqB,cAActB,EAAQ,GAEzB,IAAK","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nconst form = document.querySelector(\".form\");\n\nfunction createPromise(position, delay) {\n  return new Promise((res, rej) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        res(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      } else {\n        rej(`❌ Rejected promise ${position} in ${delay}ms`);\n      }\n    },delay);\n  });\n}\n\nform.addEventListener(\"submit\", (event) => {\n  event.preventDefault();\n  const {\n    elements: { delay, step, amount }\n  } = event.currentTarget;\n\n  let timerId = null;\n  let amountInter = amount.value;\n  let positionP = 1;\n  let delayP = Number(delay.value);\n  timerId = setInterval(() => {\n    amountInter -=1;\n    createPromise(positionP, delayP)\n    .then((value) => {\n      Notiflix.Notify.success(value,{timeout: 4000,},);\n    })\n    .catch((value) => {\n      Notiflix.Notify.failure(value,{timeout: 4000,},);\n    });\n\n    positionP +=1;\n    delayP += Number(step.value);\n\n    if (!amountInter) {\n        clearInterval(timerId);\n    }\n  }, 1000);\n\n});"],"names":["$7Y9D8","parcelRequire","document","querySelector","addEventListener","event","preventDefault","elements","delay","step","amount","currentTarget","timerId","amountInter","value","positionP","delayP","Number","setInterval","position","Promise","res","rej","setTimeout","Math","random","$47d4ff9957288465$var$createPromise","then","$parcel$interopDefault","Notify","success","timeout","catch","failure","clearInterval"],"version":3,"file":"03-promises.e0aead90.js.map"}